(this["webpackJsonplecture-4"]=this["webpackJsonplecture-4"]||[]).push([[0],{68:function(n,t,e){"use strict";e.r(t);var r,c,o,a,i=e(0),l=e.n(i),s=e(12),d=e.n(s),b=e(2),j=e(3),u=e(13),g=e.n(u),h=e(5),O=e(7),f=function(n){return{type:"SET_CATEGORY",category:n}},p=Object(O.b)({name:"category",initialState:{category:"all"},reducers:{},extraReducers:{SET_CATEGORY:function(n,t){n.category=t.category}}}).reducer,x=e(1);var m,v,C=j.b.header(r||(r=Object(b.a)(["\n  border-bottom: 1px solid #666;\n"]))),y=j.b.nav(c||(c=Object(b.a)(["\n  height: 64px;\n"]))),w=j.b.ul(o||(o=Object(b.a)(["\n  display: flex;\n  height: 64px;\n  align-items: center;\n  justify-content: center;\n"]))),k=j.b.li(a||(a=Object(b.a)(["\n  span {\n    padding: 0 2rem;\n    font-size: 1.5em;\n    font-weight: 700;\n    color: ",";\n    cursor: pointer;\n  }\n\n  span:hover {\n    color: #fff;\n  }\n"])),(function(n){return n.active?"#fff":"#999"})),M=function(){var n=Object(h.c)(),t=Object(h.d)((function(n){return n.category.category}));return Object(x.jsx)(C,{children:Object(x.jsx)(y,{children:Object(x.jsxs)(w,{children:[Object(x.jsx)(k,{active:"all"===t,onClick:function(){n(f("all"))},children:Object(x.jsx)("span",{children:"All"})}),Object(x.jsx)(k,{active:"random"===t,onClick:function(){n(f("random"))},children:Object(x.jsx)("span",{children:"Random"})}),Object(x.jsx)(k,{active:"animals"===t,onClick:function(){n(f("animals"))},children:Object(x.jsx)("span",{children:"Animals"})}),Object(x.jsx)(k,{active:"food"===t,onClick:function(){n(f("food"))},children:Object(x.jsx)("span",{children:"Food"})}),Object(x.jsx)(k,{active:"fashion"===t,onClick:function(){n(f("fashion"))},children:Object(x.jsx)("span",{children:"Fashion"})}),Object(x.jsx)(k,{active:"travel"===t,onClick:function(){n(f("travel"))},children:Object(x.jsx)("span",{children:"Travel"})})]})})})},E=e(33),S=e.n(E),T=Object(O.b)({name:"imageModal",initialState:{modalVisible:!1,bgColor:{r:0,g:0,b:0},src:"",alt:""},reducers:{},extraReducers:{SHOW_MODAL:function(n,t){n.modalVisible=!0,n.src=t.src,n.alt=t.alt,n.bgColor={r:0,g:0,b:0}},HIDE_MODAL:function(n){n.modalVisible=!1},SET_BG_COLOR:function(n,t){n.bgColor=t.bgColor}}}).reducer;var _,R=j.b.div(m||(m=Object(b.a)(["\n  width: 100%;\n  padding-bottom: 56.25%;\n  position: relative;\n"]))),V=j.b.img(v||(v=Object(b.a)(["\n  cursor: pointer;\n  width: 100%;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n"]))),D=function(n){var t=n.photo,e=t.urls,r=t.alt,c=Object(h.c)();return Object(x.jsx)(R,{children:Object(x.jsx)(S.a,{offset:500,children:Object(x.jsx)(V,{src:e.small+"&t="+(new Date).getTime(),alt:r,onClick:function(){c(function(n){return{type:"SHOW_MODAL",src:n.src,alt:n.alt}}({src:e.full,alt:r}))}})})})};var A,H=j.b.div(_||(_=Object(b.a)(["\n  margin: 20px auto;\n  width: 70%;\n  display: grid;\n  grid-template-columns: 1fr 1fr 1fr;\n  gap: 10px;\n"]))),L=function(n){var t=n.photos;return Object(x.jsx)(H,{children:t.map((function(n,t){return Object(x.jsx)(D,{photo:n},t)}))})},z=e(14),F=e(17),I=e.n(F),W=e(34);function G(){return(G=Object(W.a)(I.a.mark((function n(){var t,e;return I.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"/photos",n.next=3,g.a.get("/photos");case 3:return t=n.sent,e=t.data,n.abrupt("return",e);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var B=Object(O.a)("FETCH_PHOTOS",(function(){return G.apply(this,arguments)})),J=Object(O.b)({name:"photos",initialState:{loading:"init",data:[],error:null},reducers:{},extraReducers:(A={},Object(z.a)(A,B.pending,(function(n,t){n.loading="pending"})),Object(z.a)(A,B.fulfilled,(function(n,t){"pending"===n.loading&&(n.loading="done",n.data=t.payload)})),Object(z.a)(A,B.rejected,(function(n,t){"pending"===n.loading&&(n.loading="rejected",n.error=t.error)})),A)}).reducer,P=e(8),Y=Object(P.a)([function(n){return n.photos.data},function(n){return n.category.category}],(function(n,t){return"all"===t?n:n.filter((function(n){return n.category===t}))}));var U,q,K,N,Q,X=function(){var n=Object(h.c)();Object(i.useEffect)((function(){n(B())}),[n]);var t=Object(h.d)(Y),e=Object(h.d)((function(n){return n.photos.loading}));return"error"===e?Object(x.jsx)("span",{children:"Error!"}):"done"!==e?Object(x.jsx)("span",{children:"loading..."}):Object(x.jsx)(L,{photos:t})},Z=j.b.div(U||(U=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  box-shadow: 0px 3px 6px rgba(0, 0, 0, 0.16);\n  z-index: 999;\n  * {\n    margin-left: 16px;\n    margin-right: 16px;\n  }\n"])),(function(n){var t=n.bgColor;return"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", 0.8)")})),$=j.b.div(q||(q=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  overflow: hidden;\n  text-align: center;\n  height: 100%;\n"]))),nn=j.b.button(K||(K=Object(b.a)(["\n  cursor: pointer;\n  position: fixed;\n  border: none;\n  top: 20px;\n  right: 20px;\n  color: #fff;\n  font-size: 28px;\n  background-color: transparent;\n"]))),tn=function(n){var t=n.modalVisible,e=n.closeModal,r=n.bgColor,c=n.children;return Object(x.jsx)(x.Fragment,{children:t?Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(Z,{bgColor:r,children:Object(x.jsxs)($,{children:[Object(x.jsx)(nn,{onClick:e,children:"Close"}),Object(x.jsx)("div",{children:c})]})})}):null})},en={};var rn=j.b.div(N||(N=Object(b.a)(["\n  width: 100%;\n  height: 100%;\n"]))),cn=j.b.img(Q||(Q=Object(b.a)(["\n  max-width: 100vw;\n  max-height: 75vh;\n  box-shadow: 0px 0px 16px 4px rgba(0, 0, 0, 0.3);\n"]))),on=function(n){var t=n.modalVisible,e=n.src,r=n.alt,c=n.bgColor,o=Object(h.c)();return Object(x.jsx)(tn,{modalVisible:t,closeModal:function(){o({type:"HIDE_MODAL"})},bgColor:c,children:Object(x.jsx)(rn,{children:Object(x.jsx)(cn,{crossOrigin:"*",src:e,alt:r,onLoad:function(n){var t=function(n){if(en.hasOwnProperty(n.src))return en[n.src];var t=document.createElement("canvas"),e=t.getContext&&t.getContext("2d"),r={r:0,g:0,b:0};if(!e)return r;var c=t.width=n.naturalWidth||n.offsetWidth||n.width,o=t.height=n.naturalHeight||n.offsetHeight||n.height;e.drawImage(n,0,0);for(var a=e.getImageData(0,0,c,o).data,i=a.length,l=0;l<i;l+=4)r.r+=a[l],r.g+=a[l+1],r.b+=a[l+2];var s=i/4;return r.r=~~(r.r/s),r.g=~~(r.g/s),r.b=~~(r.b/s),en[n.src]=r,r}(n.target);o(function(n){return{type:"SET_BG_COLOR",bgColor:n}}(t))}})})})};var an,ln,sn=function(){var n=Object(h.d)((function(n){return{modalVisible:n.imageModal.modalVisible,bgColor:n.imageModal.bgColor,src:n.imageModal.src,alt:n.imageModal.alt}}),h.b),t=n.modalVisible,e=n.bgColor,r=n.src,c=n.alt;return Object(x.jsx)(on,{modalVisible:t,bgColor:e,src:r,alt:c})};g.a.defaults.baseURL="http://localhost:3001";var dn=j.b.div(an||(an=Object(b.a)(["\n  margin: 0 auto;\n"]))),bn=Object(j.a)(ln||(ln=Object(b.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n  }\n\n  html, body {\n    font-size: 16px;\n    background-color: #000;\n  }\n\n  ul, li, ol {\n    list-style: none;\n  }\n\n  a, a:visited, a:active, a:hover {\n    color: initial;\n  }\n"]))),jn=function(){return Object(x.jsxs)(dn,{children:[Object(x.jsx)(bn,{}),Object(x.jsx)(M,{}),Object(x.jsx)(X,{}),Object(x.jsx)(sn,{})]})},un=e(4),gn=e(11),hn=Object(un.combineReducers)({photos:J,category:p,imageModal:T}),On=e(35),fn=Object(un.createStore)(hn,Object(On.composeWithDevTools)(Object(un.applyMiddleware)(gn.a)));d.a.render(Object(x.jsx)(l.a.StrictMode,{children:Object(x.jsx)(h.a,{store:fn,children:Object(x.jsx)(jn,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.f1425e26.chunk.js.map